<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸€å—ç…¤çš„åˆ©ç›Šä¹‹æ—… - æ–°é—»äº’åŠ¨æ¸¸æˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;700&display=swap');
        
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: #1a1a1a;
            color: #e0e0e0;
            overflow-x: hidden;
        }

        .coal-bg {
            background: linear-gradient(rgba(0,0,0,0.8), rgba(0,0,0,0.8)), 
                        url('https://images.unsplash.com/photo-1517406155532-3f65b4c1056a?auto=format&fit=crop&q=80&w=1200');
            background-size: cover;
            background-position: center;
        }

        .progress-bar {
            transition: width 0.5s ease-in-out;
        }

        .card-enter {
            animation: slideUp 0.6s ease-out forwards;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .stat-value {
            font-variant-numeric: tabular-nums;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <!-- Header / Stats -->
    <nav class="sticky top-0 z-50 bg-black/80 backdrop-blur-md border-b border-gray-800 p-4">
        <div class="max-w-4xl mx-auto flex justify-between items-center">
            <h1 class="text-xl font-bold text-yellow-500">ç…¤ç‚­åˆ©ç›Šé“¾</h1>
            <div class="flex gap-6 text-sm">
                <div class="text-center">
                    <p class="text-gray-400">èµ„é‡‘ (ä¸‡å…ƒ)</p>
                    <p id="stat-money" class="font-bold text-green-400 stat-value">500</p>
                </div>
                <div class="text-center">
                    <p class="text-gray-400">å£°æœ›/åˆè§„</p>
                    <p id="stat-reputation" class="font-bold text-blue-400 stat-value">100</p>
                </div>
                <div class="text-center">
                    <p class="text-gray-400">ç¢³æ’æ”¾(t)</p>
                    <p id="stat-carbon" class="font-bold text-red-400 stat-value">0</p>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Game Area -->
    <main id="game-container" class="flex-grow flex items-center justify-center p-6 coal-bg">
        <!-- Start Screen -->
        <div id="screen-start" class="max-w-2xl w-full bg-zinc-900/90 p-8 rounded-2xl border border-zinc-700 text-center space-y-6 shadow-2xl">
            <h2 class="text-4xl font-black text-white italic underline decoration-yellow-600">ä¸€å—ç…¤çš„ä¸­å›½ä¹‹æ—…</h2>
            <p class="text-gray-300 leading-relaxed text-lg">
                åœ¨ä¸­å›½ï¼Œç…¤ç‚­ä¸ä»…æ˜¯èƒ½æºçš„åŸºçŸ³ï¼Œæ›´æ˜¯å·¨å¤§çš„åˆ©ç›Šäº¤ç»‡ä½“ã€‚ä»å±±è¥¿çš„æ·±äº•åˆ°ä¸Šæµ·çš„éœ“è™¹ç¯ï¼Œä¸€å¨ç…¤è¦ç»å†æ•°ç™¾å…¬é‡Œçš„è¿è¾“ã€æ•°å±‚ä¸­é—´å•†çš„åŠ ä»·ï¼Œä»¥åŠæ”¿ç­–ä¸å¸‚åœºçš„åå¤åšå¼ˆã€‚
            </p>
            <p class="text-sm text-gray-500">ä½ å°†æ‰®æ¼”ä¸€åç…¤ç‚­è´¸æ˜“ç»ç†ï¼Œç›®æ ‡æ˜¯æœ€å¤§åŒ–åˆ©æ¶¦ï¼ŒåŒæ—¶åœ¨ç¢³ä¸­å’Œçš„å¤§è¶‹åŠ¿ä¸‹ç”Ÿå­˜ä¸‹æ¥ã€‚</p>
            <button onclick="startGame()" class="bg-yellow-600 hover:bg-yellow-500 text-black font-bold py-4 px-10 rounded-full transition-all transform hover:scale-105">
                å¼€å¯é»‘é‡‘ä¹‹æ—…
            </button>
        </div>

        <!-- Choice Screen Template (Hidden) -->
        <div id="screen-game" class="hidden max-w-2xl w-full bg-zinc-900/90 p-8 rounded-2xl border border-zinc-700 space-y-6 shadow-2xl card-enter">
            <div id="step-image" class="w-full h-48 bg-zinc-800 rounded-lg overflow-hidden flex items-center justify-center text-zinc-600">
                <!-- Icon or placeholder will be here -->
            </div>
            <div class="space-y-2">
                <span id="step-tag" class="px-2 py-1 bg-yellow-900/50 text-yellow-400 text-xs font-bold rounded uppercase tracking-widest">ç¬¬ä¸€é˜¶æ®µï¼šå¼€é‡‡</span>
                <h3 id="step-title" class="text-2xl font-bold text-white">é€‰æ‹©ä½ çš„çŸ¿åŒº</h3>
            </div>
            <p id="step-description" class="text-gray-300 leading-relaxed">
                ä½ éœ€è¦å†³å®šåœ¨å“ªä¸ªåœ°åŒºæŠ•èµ„ã€‚è¿™å†³å®šäº†ä½ çš„åˆå§‹æˆæœ¬å’Œç…¤ç‚­å“è´¨ã€‚
            </p>
            <div id="choices-container" class="grid grid-cols-1 gap-4 mt-6">
                <!-- Buttons will be injected here -->
            </div>
        </div>

        <!-- End Screen (Hidden) -->
        <div id="screen-end" class="hidden max-w-2xl w-full bg-zinc-900/90 p-10 rounded-2xl border border-zinc-700 text-center space-y-6 shadow-2xl">
            <h2 class="text-4xl font-black text-white">æ—…ç¨‹ç»“æŸ</h2>
            <div id="final-stats" class="grid grid-cols-3 gap-4 py-8 bg-black/40 rounded-xl">
                <!-- Final results -->
            </div>
            <p id="end-summary" class="text-gray-300"></p>
            <button onclick="location.reload()" class="border border-zinc-500 hover:bg-zinc-800 text-white font-bold py-3 px-8 rounded-full transition-all">
                é‡æ–°å¼€å§‹
            </button>
        </div>
    </main>

    <!-- Footer -->
    <footer class="p-4 bg-black/90 text-center text-xs text-gray-600 border-t border-gray-900">
        <p>æ•°æ®åŸºäºä¸­å›½ç…¤ç‚­å¸‚åœºå‚è€ƒä»·åŠè¡Œä¸šåˆ†æã€‚æ­¤ä¸ºæ–°é—»ç§‘æ™®äº’åŠ¨æ¸¸æˆã€‚</p>
    </footer>

    <script>
        // Game State
        let state = {
            money: 500,
            reputation: 100,
            carbon: 0,
            currentStep: 0
        };

        const steps = [
            {
                tag: "ç¬¬ä¸€é˜¶æ®µï¼šå¼€é‡‡",
                title: "é€‰æ‹©çŸ¿åŒºä¸ç”Ÿäº§æ–¹å¼",
                description: "å±±è¥¿æŸåœ°ã€‚ä½ æ˜¯é€‰æ‹©æŠ•èµ„æ˜‚è´µçš„è‡ªåŠ¨åŒ–ç»¼é‡‡è®¾å¤‡ï¼Œè¿˜æ˜¯ä¾é åŠ³åŠ¨åŠ›æé«˜äº§é‡ï¼Ÿ",
                image: "â›ï¸",
                choices: [
                    {
                        text: "æŠ•èµ„è‡ªåŠ¨åŒ–é•¿å£å¼€é‡‡ (-200ä¸‡, +30å£°æœ›)",
                        impact: { money: -200, reputation: 30, carbon: 50 },
                        feedback: "è™½ç„¶å‰æœŸæŠ•å…¥å·¨å¤§ï¼Œä½†å®‰å…¨æ€§æé«˜ï¼Œä¸”ç¬¦åˆå›½å®¶â€˜æ™ºæ…§çŸ¿å±±â€™æ”¿ç­–ã€‚"
                    },
                    {
                        text: "æ‰©å¤§åŠ³åŠ¨åŠ›è§„æ¨¡ (-50ä¸‡, -20å£°æœ›)",
                        impact: { money: -50, reputation: -20, carbon: 70 },
                        feedback: "çŸ­æœŸæˆæœ¬æä½ï¼Œäº§é‡è¿…é€Ÿä¸Šå‡ï¼Œä½†é¢ä¸´ç›‘ç®¡æ£€æŸ¥å’Œå®‰å…¨éšæ‚£ã€‚"
                    }
                ]
            },
            {
                tag: "ç¬¬äºŒé˜¶æ®µï¼šç‰©æµ",
                title: "è¿ç…¤å…¥æ¸¯ï¼šå¤§ç§¦é“è·¯è¿˜æ˜¯é‡å¡ï¼Ÿ",
                description: "ç…¤ç‚­å·²ç»æŒ–å‡ºï¼Œç°åœ¨éœ€è¦å°†å…¶è¿å¾€åŒ—æ–¹æ¸¯å£ï¼ˆå¦‚ç§¦çš‡å²›æ¸¯ï¼‰ã€‚è¿™æ˜¯åˆ©ç›Šåˆ†é…æœ€å¤æ‚çš„ä¸€ç¯ã€‚",
                image: "ğŸš‚",
                choices: [
                    {
                        text: "é€šè¿‡é“è·¯é•¿åè¿è¾“ (-80ä¸‡, +10å£°æœ›)",
                        impact: { money: -80, reputation: 10, carbon: 40 },
                        feedback: "é“è·¯è¿è¾“æˆæœ¬ä½ä¸”ç¨³å®šï¼Œä½†ä½ éœ€è¦æ‰“é€šå±‚å±‚å…³ç³»æ’åˆ°èˆ±ä½ã€‚"
                    },
                    {
                        text: "ç»„å»ºé‡å‹å¡è½¦è½¦é˜Ÿ (-120ä¸‡, -10å£°æœ›)",
                        impact: { money: -120, reputation: -10, carbon: 120 },
                        feedback: "çµæ´»ä½†æˆæœ¬é«˜æ˜‚ï¼Œä¸”è·¯é€”ä¸­çš„æŠ›æ´’å’Œå°¾æ°”æ’æ”¾è®©ä½ å£°æœ›ä¸‹é™ã€‚"
                    }
                ]
            },
            {
                tag: "ç¬¬ä¸‰é˜¶æ®µï¼šä¸­é—´ç¯èŠ‚",
                title: "æ¸¯å£æ´—é€‰ä¸å±‚å±‚å€’æ‰‹",
                description: "åœ¨æ¸¯å£ï¼Œç…¤ç‚­ä¼šè¢«æ´—é€‰åˆ†çº§ã€‚æ­¤æ—¶ï¼Œå‡ ä¸ªè´¸æ˜“å•†æ‰¾åˆ°ä½ ï¼Œå¸Œæœ›é€šè¿‡â€˜æ‹¼æŸœâ€™é¿å¼€ç›‘ç®¡æŒ‡æ ‡ã€‚",
                image: "ğŸ“¦",
                choices: [
                    {
                        text: "åšæŒæ ‡å‡†åŒ–åˆè§„äº¤æ˜“ (+150ä¸‡, +20å£°æœ›)",
                        impact: { money: 150, reputation: 20, carbon: 20 },
                        feedback: "åˆ©æ¶¦è™½ç„¶è–„ä¸€äº›ï¼Œä½†é¿å¼€äº†åæœŸå¯èƒ½å­˜åœ¨çš„ç¨åŠ¡å’Œç¯ä¿å®¡æŸ¥é£é™©ã€‚"
                    },
                    {
                        text: "ä¸è´¸æ˜“å•†åˆä½œå¥—åˆ© (+350ä¸‡, -40å£°æœ›)",
                        impact: { money: 350, reputation: -40, carbon: 60 },
                        feedback: "é€šè¿‡æ··åˆåŠ£è´¨ç…¤å¥—å–äº†å·¨é¢å·®ä»·ã€‚ä½ çš„é’±åŒ…é¼“äº†ï¼Œä½†ä¸šå†…å¼€å§‹æµä¼ ä½ çš„ç…¤â€˜ä¸å¹²å‡€â€™ã€‚"
                    }
                ]
            },
            {
                tag: "ç¬¬å››é˜¶æ®µï¼šç»ˆç«¯åšå¼ˆ",
                title: "ç…¤ç”µä»·æ ¼è”åŠ¨",
                description: "å—æ–¹ç”µå‚æ€¥éœ€ç”¨ç…¤ï¼Œä½†ç…¤ä»·æ­£å¤„äºé«˜ä½ã€‚æ”¿åºœå‡ºæ‰‹è°ƒæ§ï¼Œè¦æ±‚ç­¾è®¢é•¿åâ€˜ä¿ä¾›â€™ã€‚",
                image: "âš¡",
                choices: [
                    {
                        text: "å“åº”å·å¬ï¼Œä½ä»·ä¿ä¾› (-50ä¸‡, +50å£°æœ›)",
                        impact: { money: -50, reputation: 50, carbon: 100 },
                        feedback: "ä½ æˆäº†â€˜ä¿ä¾›è‹±é›„â€™ã€‚è™½ç„¶è¿™ç¬”ç”Ÿæ„äºäº†ï¼Œä½†ä½ è·å¾—äº†æ˜å¹´çš„ä¼˜å…ˆå¼€é‡‡é…é¢ã€‚"
                    },
                    {
                        text: "é«˜ä»·ç°è´§å‡ºå”®ç»™å°é’¢å‚ (+400ä¸‡, -60å£°æœ›)",
                        impact: { money: 400, reputation: -60, carbon: 150 },
                        feedback: "è¶ç«æ‰“åŠ«ï¼ä½ å‘äº†ä¸€ç¬”æ¨ªè´¢ï¼Œä½†ç”±äºæ‹’ä¸æ‰§è¡Œé•¿åï¼Œä½ è¢«åˆ—å…¥è¡Œä¸šè¯šä¿¡é»‘åå•ã€‚"
                    }
                ]
            },
            {
                tag: "ç¬¬äº”é˜¶æ®µï¼šæ—¶ä»£æŠ‰æ‹©",
                title: "åŒç¢³ç›®æ ‡ä¸‹çš„ç”Ÿå­˜",
                description: "å›½å®¶æ¨è¡Œâ€˜ç¢³æ’æ”¾æƒäº¤æ˜“â€™ã€‚ä½ çš„ç…¤ç‚­ç”Ÿäº§å’Œè¿è¾“äº§ç”Ÿäº†å·¨å¤§ç¢³è¶³è¿¹ï¼Œç°åœ¨éœ€è¦ä¹°å•ã€‚",
                image: "ğŸŒ±",
                choices: [
                    {
                        text: "è´­ä¹°ç¢³ä¿¡ç”¨æŠµæ¶ˆ (-300ä¸‡, +40å£°æœ›)",
                        impact: { money: -300, reputation: 40, carbon: -100 },
                        feedback: "èŠ±è´¹é‡é‡‘è´­ä¹°æ—ä¸šç¢³æ±‡ï¼Œä½ çš„ä¼ä¸šæˆåŠŸè½¬å‹ä¸ºâ€˜ç»¿è‰²ç…¤ç‚­â€™ä¾›åº”å•†ã€‚"
                    },
                    {
                        text: "å…³é—­é«˜è€—èƒ½äº§çº¿ (-100ä¸‡, +10å£°æœ›)",
                        impact: { money: -100, reputation: 10, carbon: -150 },
                        feedback: "ç¼©å‡è§„æ¨¡æ˜¯ç—›è‹¦çš„ï¼Œä½†ä½ é¿å¼€äº†å¤©ä»·çš„ç¢³ç¨ç½šæ¬¾ã€‚"
                    }
                ]
            }
        ];

        function updateStats() {
            document.getElementById('stat-money').innerText = state.money;
            document.getElementById('stat-reputation').innerText = state.reputation;
            document.getElementById('stat-carbon').innerText = state.carbon;
        }

        function startGame() {
            document.getElementById('screen-start').classList.add('hidden');
            document.getElementById('screen-game').classList.remove('hidden');
            renderStep();
        }

        function renderStep() {
            const step = steps[state.currentStep];
            const container = document.getElementById('screen-game');
            
            // Re-trigger animation
            container.classList.remove('card-enter');
            void container.offsetWidth;
            container.classList.add('card-enter');

            document.getElementById('step-tag').innerText = step.tag;
            document.getElementById('step-title').innerText = step.title;
            document.getElementById('step-description').innerText = step.description;
            document.getElementById('step-image').innerHTML = `<span class="text-6xl">${step.image}</span>`;

            const choicesContainer = document.getElementById('choices-container');
            choicesContainer.innerHTML = '';

            step.choices.forEach(choice => {
                const btn = document.createElement('button');
                btn.className = "text-left p-4 bg-zinc-800 hover:bg-zinc-700 border border-zinc-600 rounded-xl transition-all hover:border-yellow-600 group";
                btn.innerHTML = `
                    <p class="text-white font-medium group-hover:text-yellow-500">${choice.text}</p>
                    <p class="text-xs text-gray-400 mt-1 italic">${choice.feedback}</p>
                `;
                btn.onclick = () => makeChoice(choice.impact);
                choicesContainer.appendChild(btn);
            });
        }

        function makeChoice(impact) {
            state.money += impact.money;
            state.reputation += impact.reputation;
            state.carbon += impact.carbon;
            updateStats();

            state.currentStep++;
            if (state.currentStep < steps.length) {
                renderStep();
            } else {
                showEnd();
            }
        }

        function showEnd() {
            document.getElementById('screen-game').classList.add('hidden');
            document.getElementById('screen-end').classList.remove('hidden');
            
            document.getElementById('final-stats').innerHTML = `
                <div>
                    <p class="text-xs text-gray-500">æœ€ç»ˆå‡€åˆ©æ¶¦</p>
                    <p class="text-xl font-bold ${state.money > 500 ? 'text-green-400' : 'text-red-400'}">${state.money}ä¸‡</p>
                </div>
                <div>
                    <p class="text-xs text-gray-500">ç¤¾ä¼šå½±å“åŠ›</p>
                    <p class="text-xl font-bold ${state.reputation > 50 ? 'text-blue-400' : 'text-orange-400'}">${state.reputation}</p>
                </div>
                <div>
                    <p class="text-xs text-gray-500">ç¢³æ’æ”¾è¶³è¿¹</p>
                    <p class="text-xl font-bold text-red-500">${state.carbon}t</p>
                </div>
            `;

            let summary = "";
            if (state.money > 1000 && state.reputation < 50) {
                summary = "ä½ æˆä¸ºäº†ä¸€ä¸ªå¯Œæœ‰ä½†åå£°ä¸ä½³çš„â€˜ç…¤è€æ¿â€™ã€‚åœ¨è¿™ä¸ªç¯ä¿è½¬å‹çš„æ—¶ä»£ï¼Œä½ çš„è´¢å¯Œå¯èƒ½éš¾ä»¥æŒç»­ã€‚";
            } else if (state.reputation > 150) {
                summary = "ä½ æˆåŠŸå®ç°äº†ç…¤ç‚­ä¼ä¸šçš„ç»¿è‰²è½¬å‹ï¼è™½ç„¶èµ„äº§å¢å¹…å¹³ç¨³ï¼Œä½†ä½ è·å¾—äº†æœªæ¥åå¹´çš„å¸‚åœºé€šè¡Œè¯ã€‚";
            } else if (state.money < 0) {
                summary = "é—æ†¾ï¼Œä½ çš„ç…¤ç‚­ç”Ÿæ„ç ´äº§äº†ã€‚å¤æ‚çš„ä¸­é—´ç¯èŠ‚ä¸æ˜‚è´µçš„åˆè§„æˆæœ¬å‡»å®äº†ä½ çš„ç°é‡‘æµã€‚";
            } else {
                summary = "ä½ åœ¨ç°è‰²åœ°å¸¦å‹‰å¼ºç»´æŒã€‚é¢å¯¹ä¸æ–­æ”€å‡çš„ç¢³ä»·å’Œæ³¢åŠ¨çš„éœ€æ±‚ï¼Œä½ æ·±åˆ»ç†è§£äº†â€˜é»‘é‡‘â€™èƒŒåçš„ä¸æ˜“ã€‚";
            }
            document.getElementById('end-summary').innerText = summary;
        }

        // Initialize
        updateStats();
    </script>
</body>
</html>